(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{60:function(e,t,a){e.exports=a(81)},69:function(e,t,a){},70:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),s=a.n(c),o=a(19),i=a(14),l=a(44),u=(a(69),a(57)),m=a(46),h=a.n(m),d=a(110),p=a(105),y=(a(70),a(34)),f=a.n(y),v=a(45),E=function(e){return{type:"LOG_SEARCH",payload:e}},A=function(e){return{type:"SHOW_MUSIC_SUMMARY",payload:e}},_=function(e){return{type:"CURRENT_ARTIST",payload:e}},S=function(e){return{type:"SPOTIFY_ALBUM_SUCCESS",payload:e}},g=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return fetch("https://cors-anywhere.herokuapp.com/"+e,{method:"POST",headers:a,body:t})}("https://accounts.spotify.com/api/token","grant_type=client_credentials",{Authorization:"Basic NTdhZDkxMzdkNmNlNDVhOTk1ODBiMWY1N2UzNTc0Zjc6OTIwNTE0ZGUwYTVlNDk1OTg0Y2VmN2NkOGRkMjg5NzA=","content-type":"application/x-www-form-urlencoded"})},w=function(e,t){var a=t.replace(/ /g,"%20");return fetch("".concat("https://api.spotify.com/v1/search","?q=").concat(a,"&type=artist&limit=1"),{headers:{Authorization:"Bearer "+e}})},T=function(e,t){var a="https://api.spotify.com/v1/artists/".concat(t,"/albums");return fetch("".concat(a,"?include_groups=album&limit=50"),{headers:{Authorization:"Bearer "+e}})},O=function(e){return function(){var t=Object(v.a)(f.a.mark(function t(a,n){var r,c,s,o,i,l,u,m,h,d,p;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a(A(!1)),r=n(),c=r.spotifyAccessToken){t.next=19;break}return a({type:"SPOTIFY_TOKEN_LOADING"}),t.prev=4,t.next=7,g();case 7:return o=t.sent,t.next=10,o.json();case 10:i=t.sent,s=i.access_token,a({type:"SPOTIFY_TOKEN_SUCCESS",payload:s}),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(4),console.log("auth error:",t.t0),a({type:"SPOTIFY_TOKEN_FAILURE"});case 19:return a(E(e)),t.prev=20,t.next=23,w(s||c,e);case 23:return l=t.sent,t.next=26,l.json();case 26:if(u=t.sent,m=u.artists.items[0].name,!(h=u.artists.items[0].id)){t.next=41;break}return t.next=32,T(s||c,h);case 32:return d=t.sent,t.next=35,d.json();case 35:p=t.sent,a(_(m)),a(S(p.items)),a(A(!0)),t.next=43;break;case 41:a(_("")),a(A(!0));case 43:t.next=51;break;case 45:t.prev=45,t.t1=t.catch(20),console.log("search error:",t.t1),a({type:"SPOTIFY_ALBUM_FAILURE"}),a({type:"CURRENT_ARTIST_FAILURE"}),a(A(!0));case 51:case"end":return t.stop()}},t,null,[[4,15],[20,45]])}));return function(e,a){return t.apply(this,arguments)}}()},b=Object(o.b)(function(e){return{searchedArtists:e.searchedArtists}},function(e){return Object(i.b)({searchArtist:O},e)})(function(e){var t=e.searchArtist,a=r.a.useState(""),n=Object(u.a)(a,2),c=n[0],s=n[1];return r.a.createElement("div",{className:"search"},r.a.createElement("div",{className:"search-icon"},r.a.createElement(h.a,null)),r.a.createElement(d.a,{className:"search-input",placeholder:"Search\u2026",inputProps:{"aria-label":"Search"},value:c,onChange:function(e){return s(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&t(c)}}),r.a.createElement(p.a,{className:"search-button",variant:"outlined",onClick:function(){return t(c)}},"Find Albums"))}),N=a(111),k=a(112),I=a(108),x=a(107),R=a(55),U=a.n(R),C=a(109),j=(a(78),a(106)),L=Object(j.a)({summaryContent:{flexWrap:"wrap"},detailRoot:{flexWrap:"wrap",maxHeight:475,overflowY:"scroll"}}),F={width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",marginBottom:12,marginTop:12},M=function(e){var t=e.currentArtist,a=e.service,n=e.albums,c=L();return r.a.createElement(N.a,null,r.a.createElement(k.a,{expandIcon:r.a.createElement(U.a,null),"aria-controls":"music-summary",id:"music-summary",classes:{content:c.summaryContent}},r.a.createElement(x.a,{style:{width:"100%"},variant:"h3",gutterBottom:!0},"".concat(t," on ").concat(a)),r.a.createElement(x.a,{style:{width:"100%"},variant:"h3",gutterBottom:!0},"".concat(n.length," Album").concat(1===n.length?"":"s"))),n.length>0&&r.a.createElement(I.a,{classes:{root:c.detailRoot}},n.map(function(e){return r.a.createElement("div",{key:e.id,style:{width:"100%",textAlign:"left"}},r.a.createElement("div",{style:F},r.a.createElement("a",{href:e.external_urls.spotify,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:e.images[1].url,alt:"album cover",height:"100",width:"100"})),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginLeft:25,width:"75%"}},r.a.createElement("div",{style:{flexBasis:280,display:"flex",justifyContent:"flex-start"}},r.a.createElement(x.a,{variant:"h6"},e.name)),r.a.createElement(x.a,{variant:"h6",className:"music-display__tracks"},"".concat(e.total_tracks," Tracks")),r.a.createElement(x.a,{variant:"h6",className:"music-display__date"},e.release_date.substring(0,4)))),r.a.createElement(C.a,{variant:"middle"}))})))},Y=(a(79),Object(o.b)(function(e){return{searchedArtists:e.searchedArtists,spotifyAlbums:e.spotifyAlbums,currentArtist:e.currentArtist}})(function(e){var t=e.searchedArtists,a=e.currentArtist,n=e.spotifyAlbums;return r.a.createElement("div",{className:"music-summary"},a&&n?r.a.createElement(M,{currentArtist:a,service:"Spotify",albums:n}):r.a.createElement("h3",{style:{color:"white"}},"Sorry, no results :("),t.length>0&&r.a.createElement("div",{style:{color:"white"}},r.a.createElement("h2",null,"Recently Searched Artists"),t.map(function(e){return r.a.createElement("p",{key:e},e)})))}));a(80);var B=Object(o.b)(function(e){return{searchedArtists:e.searchedArtists,spotifyAccessToken:e.spotifyAccessToken,showMusicSummary:e.showMusicSummary}})(function(e){var t=e.searchedArtists,a=e.spotifyAccessToken,n=e.showMusicSummary;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Spotify Album Lookup")),r.a.createElement(b,null),t.length>0?a?n?r.a.createElement(Y,null):null:r.a.createElement("h3",{style:{color:"white"}},"Sorry, we cannot connect to Spotify right now :("):null)}),P=a(56),D=Object(i.c)({searchedArtists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"LOG_SEARCH"!==t.type||e.includes(t.payload)?e:[].concat(Object(P.a)(e),[t.payload])},showMusicSummary:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SHOW_MUSIC_SUMMARY"===t.type?t.payload:e},spotifyAccessToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SPOTIFY_TOKEN_LOADING":return"loading";case"SPOTIFY_TOKEN_SUCCESS":return t.payload;case"SPOTIFY_TOKEN_FAILURE":return!1;default:return e}},spotifyAlbums:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SPOTIFY_ALBUM_SUCCESS":return function(e){var t={},a=[],n=!0,r=!1,c=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var i=s.value;t[i.name]||(t[i.name]=!0,a.push(i))}}catch(l){r=!0,c=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw c}}return a}(t.payload);case"SPOTIFY_ALBUM_FAILURE":return!1;default:return e}},currentArtist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"CURRENT_ARTIST"===t.type?t.payload:"CURRENT_ARTIST_FAILURE"===t.type?"":e}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=Object(i.e)(D,Object(i.d)(Object(i.a)(l.a),window.navigator.userAgent.includes("Chrome")?window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__():i.d));s.a.render(r.a.createElement(o.a,{store:K},r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[60,1,2]]]);
//# sourceMappingURL=main.f10d0d98.chunk.js.map